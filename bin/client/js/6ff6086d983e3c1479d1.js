(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(t,e,n){t.exports=n.p+"assets/gif/giphy.gif"},171:function(t,e,n){t.exports=n.p+"images/terminal-spot.png"},172:function(t,e,n){t.exports=n(639)},634:function(t,e,n){var o=n(635);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(637)(o,r);o.locals&&(t.exports=o.locals)},635:function(t,e,n){(t.exports=n(636)(!1)).push([t.i,".container {\n  margin: 0 auto;\n  flex-direction: row;\n  text-align: center; }\n\n#map {\n  height: 100%; }\n\nhtml, body {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #1A2632; }\n  html h1, body h1 {\n    color: white; }\n\nh4 {\n  color: black;\n  font-size: 1rem;\n  font-weight: 400; }\n",""])},639:function(t,e,n){"use strict";n.r(e);var o=n(6),r=n.n(o),a=n(68),i=n.n(a),l=n(32),c=function(t){return t*(Math.PI/180)},s=function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"k",a=c(t),i=c(e),s=c(n),u=(c(o)-i)/2,f=(s-a)/2,p=Object(l.sin)(f)*Object(l.sin)(f)+Object(l.cos)(a)*Object(l.cos)(s)*(Object(l.sin)(u)*Object(l.sin)(u)),m=2*Object(l.atan2)(Object(l.sqrt)(p),Object(l.sqrt)(1-p))*6378137;return"k"===r?m/1e3:m},u=n(169),f=n.n(u),p=n(51),m=n(170),g=n.n(m),d=n(171),h=n.n(d);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O={lat:"",lng:""};navigator.geolocation.getCurrentPosition(function(t){O={lat:t.coords.latitude,lng:t.coords.longitude}},function(t){console.warn("ERREUR (".concat(t.code,"): ").concat(t.message))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});var E=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=k(this,(t=v(e)).call.apply(t,[this].concat(r)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},terminals:[],loading:!1,clickedTerm:{lat:0,lng:0},distance:0,bankTerminalsName:[]},n.onMarkerClick=function(t,e,o){n.setState({selectedPlace:t,activeMarker:e,showingInfoWindow:!0,clickedTerm:{lat:t.position.lat,lng:t.position.lng}})},n.onClose=function(){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n}var n,a,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,o["Component"]),n=e,(a=[{key:"componentDidMount",value:function(){var t=this,e={lat1:O.lat+.02,lng1:O.lng+.04,lat2:O.lat-.02,lng2:O.lng-.04};f.a.get("/api/pos/".concat(e.lat1,"/").concat(e.lat2,"/").concat(e.lng1,"/").concat(e.lng2)).then(function(e){t.setState({terminals:e.data.terminals,loading:!0})})}},{key:"render",value:function(){var t=this,e=this.state.terminals.filter(function(t){return null!=t.address||null!=t.address}).map(function(e){try{console.log(Object.values(e.bank)[4])}catch(t){console.warn(t)}return r.a.createElement(p.Marker,{key:e._id,onClick:t.onMarkerClick,name:e.address?"".concat(e.address," se trouve à ").concat(s(e.latitude,e.longitude,O.lat,O.lng,"k").toFixed(2)," km"):"N/A se trouve à ".concat(s(e.latitude,e.longitude,O.lat,O.lng,"k").toFixed(2)," km"),title:e.address,icon:h.a,position:{lat:e.latitude,lng:e.longitude}})});return r.a.createElement(r.a.Fragment,null,!this.state.loading&&r.a.createElement("div",null,r.a.createElement("h3",null,"Don't worry ! It's loading..."),r.a.createElement("img",{src:g.a,alt:"loading"})),this.state.loading&&r.a.createElement(p.Map,{google:this.props.google,zoom:15,style:{width:"95%",height:"75%",margin:"0 auto"},initialCenter:O},0!==this.state.clickedTerm.lat&&0!==this.state.clickedTerm.lng?r.a.createElement(p.Polyline,{path:[{lat:O.lat,lng:O.lng},{lat:this.state.clickedTerm.lat,lng:this.state.clickedTerm.lng}],strokeColor:"#EB6123",strokeOpacity:.8,strokeWeight:3}):"",r.a.createElement(p.Marker,{onClick:this.onMarkerClick,name:"You're here"}),e,r.a.createElement(p.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name)))))}}])&&b(n.prototype,a),i&&b(n,i),e}(),j=Object(p.GoogleApiWrapper)({apiKey:"AIzaSyDkmRb41NI7USOlvwkK6KrPA7UF5zpboW8"})(E);n(634);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,C(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){return o.createElement("div",{className:"container"},o.createElement("h1",null,"Check ATM "),o.createElement("hr",null),o.createElement("br",null),o.createElement("div",null,o.createElement(j,null)))}}])&&P(n.prototype,r),a&&P(n,a),e}();i.a.render(o.createElement(x,null),document.querySelector("#app"))}},[[172,157,128,103,104,23,127,134,32,45,135,71,33,86,126,83,35,36,85,67,112,51,123,19,41,34,24,55,21,38,102,27,60,111,76,121,141,31,122,54,101,29,107,92,118,46,26,140,63,53,66,47,73,77,110,100,80,72,57,69,79,88,39,68,114,40,50,61,70,116,90,109,25,113,62,22,106,131,119,30,137,94,87,142,49,44,78,132,99,97,133,37,82,138,93,124,136,115,120,81,52,89,65,130,20,74,64,117,96,48,75,95,59,84,42,108,58,43,56,28,125,139,105,91,98,129,4,1,3,5,2,15,13,11,12,14,16,148,147,149,146,145,150,151,153,6,7,8,9,10,17,18,143,144,152,154,155,156]]]);