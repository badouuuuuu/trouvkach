{"version":3,"sources":["../../src/server/index.js"],"names":["mongoose","connect","process","env","MONGO_ATLAS_LOGIN","MONGO_ATLAS_PWD","db","connection","on","console","error","bind","once","log","APP_PORT","app","use","express","static","path","resolve","__dirname","router","bodyParser","json","port","PORT","listen"],"mappings":";;;;;;;AAQA;;AACA;;AACA;;AACA;;AAEA;;;;AAEAA,kBAASC,OAAT,CACK,aAAYC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,IAAGF,OAAO,CAACC,GAAR,CAAYE,eAAgB,gJAD9E;;AAMA,IAAIC,EAAE,GAAGN,kBAASO,UAAlB;AAEAD,EAAE,CAACE,EAAH,CAAM,OAAN,EAAeC,OAAO,CAACC,KAAR,CAAcC,IAAd,CAAmBF,OAAnB,EAA4B,mBAA5B,CAAf;AACAH,EAAE,CAACM,IAAH,CAAQ,MAAR,EAAgB,MAAM;AAClBH,EAAAA,OAAO,CAACI,GAAR,CAAY,wBAAZ;AACH,CAFD;AAIA,MAAM;AAACC,EAAAA;AAAD,IAAaZ,OAAO,CAACC,GAA3B;AAEA,MAAMY,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,MAAR,CAAeC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,kBAAxB,CAAf,CAAR;AACAN,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBM,eAAhB;AAEAP,GAAG,CAACC,GAAJ,CAAQO,oBAAWC,IAAX,EAAR;AAEA,MAAMC,IAAI,GAAGvB,OAAO,CAACC,GAAR,CAAYuB,IAAzB;AAEAX,GAAG,CAACY,MAAJ,CAAWF,IAAI,IAAI,IAAnB,EAAyB,MACrBhB,OAAO,CAACI,GAAR,CAAa,kCAAiCY,IAAK,GAAnD,CADJ;eAUenB,E","sourcesContent":["/* becodeorg/trouvkach\n *\n * /src/server/index.js - Server entry point\n *\n * coded by leny@BeCode\n * started at 15/02/2019\n */\n\nimport express from \"express\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./routes.js\";\n\nimport bodyParser from \"body-parser\";\n\nmongoose.connect(\n    `mongodb://${process.env.MONGO_ATLAS_LOGIN}:${process.env.MONGO_ATLAS_PWD}@trouvkach-becode-shard-00-00-ph6as.mongodb.net:27017/trouvkach?ssl=true&replicaSet=Trouvkach-becode-shard-0&authSource=admin&retryWrites=true`,\n);\n\n// mongoose.connect(`mongodb://dev:dev@mongo:27017/trouvkach?authSource=admin`);\n\nlet db = mongoose.connection;\n\ndb.on(\"error\", console.error.bind(console, \"connection error:\"));\ndb.once(\"open\", () => {\n    console.log(\"Connected !!! Yeah !!!\");\n});\n\nconst {APP_PORT} = process.env;\n\nconst app = express();\n\napp.use(express.static(path.resolve(__dirname, \"../../bin/client\")));\napp.use(\"/api\", router);\n\napp.use(bodyParser.json());\n\nconst port = process.env.PORT\n\napp.listen(port || 8000, () =>\n    console.log(`ðŸš€ Server is listening on port ${port}.`),\n);\n\n// app.get('/', (req, res) => {\n//     var results = db.collection('banks').find({})\n//     console.log(results);\n//     res.send({results: results});\n// });\n\nexport default db;\n"],"file":"index.js"}